<!DOCTYPE html>
<meta charset="UTF-8">
<script>
    // 자바스크립트 function키워드는 class의 의미도 가지고 있음
    // 실제 class 키워드가 추가되었지만, 내부적으로 function 키워드로
    // 바뀌어 실행되기 때문에 순수 자바스크립트에서(바닐라)에선 그냥 
    // function 키워드를 쓰는 것이 일반적!
    
    // 배열을 직접 한번 맹글어 봅세당

    function MyArray(){
        this.length = 0; //초기값 0

    }

    //클래스의 메소드 공유영역(prototype), 사실 속성을 넣어도 되는뎅 의미가 없음
    MyArray.prototype.push = function(pElem){
        this[this.length] = pElem;
        this.length++;
        return this;   //메소드 체인닝이 됨!
    } 

    //map하고 reduce는 빅데이터 처리에서 많이 쓰는 메소드!(보통 맵리라고 짧게 부름!)
    MyArray.prototype.map = function(pCallbak){
        for(let i=0; i<this.length; i++){
            this[i] = pCallbak.call(this, this[i], i)
        }
        return this;   //메소드 체이닝 
    }

    MyArray.prototype.forEach = function(pCallbak){
        for(let i=0; i<this.length; i++){
            pCallbak.call(this,this[i],i);
        }
        return this; //메소드 체이닝!!!! 

    }


    let aaa = new MyArray();
    aaa.push("로제").push("유이현").push("전다미").push(["구","기","현"]);
    aaa.map(function(pVal,pIndex){
        if(pVal == "유이현"){
            return pVal + " 미웡";
        }
        if(pIndex == 2) {
            return pVal + pIndex + " 좋아";
        }
        return pVal; //상관없는 건 넘겨 받은 대로 가공 없이 다시 되돌려줌
    })
/* 
    aaa.forEach(function(pVal, pInx){
        alert(`${pInx} ==> ${pVal}`);
    }).forEach(function(val, index){
        this[index] = this[index] + "만세";
    }).push("정수는 왜 고민하고 대답"); */
    console.log("체킁!",aaa);

/* 
    let bbb = new MyArray();
    bbb.push("제니");
    console.log("bbb", bbb);
 */

</script>